# よくあるご質問


## 必要なリード数はどれくらいですか？

**1,000リード以上を推奨しています。**  
1,000リード以上あれば1%の点変異アレルの検出が可能であり、高精度な解析が可能です。一方で、検出対象が数10塩基以上のindelであったり、予想されるアレル頻度が5%以上である場合にはより少ないリード数(~500リード程度)で検出が可能です。


## 解析可能なリード長はどれくらいですか？

**10kb以下を推奨しています。**  
10kb以下であれば、PCRアンプリコンをNanoporeで読んだ際に、標的領域に満遍なくリードが張り付きます。最大で15kb程度のPCRアンプリコンを得ることは可能ではありますが、標的領域におけるカバレッジにムラが生じてしまい、解析精度が低下する可能性があります。

## Nanopore以外（PacBioやNGS）のデータの解析は可能ですか？

**可能です。**  
DAJIN2は一般的なファイルフォーマット（FASTA, FASTQ, BAM）を入力として受け付けているため、Nanopore以外のデータも解析可能です。ただし、私たちのほうではNanoporeデータ以外にDAJIN2を用いた経験がないため、もしご利用に不具合が生じた場合には、お手数ですが[こちら](https://github.com/akikuno/DAJIN2/issues/new/choose)よりお問い合わせください。

## batchモードで`--threads`を1以上に指定すると、いくつかのサンプルが処理されなくなります

過去の特定のDAJIN2 (v0.4.6) で見られたバグです。  
**DAJIN2を最新版にアップデートしてください。**  

```bash
conda update DAJIN2 -y
```

もしくは

```bash
pip install -U DAJIN2
```


## 出力されたBAMファイルにおいて、Controlサンプルのリード数が少ないのはなぜですか？

DAJIN2 (version 0.5.4以降) では、Controlサンプルのリード数が100,000を超える場合、計算負荷を軽減するために、リード数をランダムに100,000本に制限しています。そのため、BAMファイルにはフィルタリングされたリードが出力され、元のリード数よりも少なくなります。  
なお、リード数を100,000本に制限しても解析結果に影響がないことを確認しています。  

## GGGENOMEまたはUCSCサーバーが利用できないというエラーが出た場合はどうすればよいですか？

DAJIN2は`-g/--genome`オプション入力時に、GGGENOMEとUCSC Goldenpathのサーバーへのアクセスを試みてゲノム座標を取得します。  
もしこれらのサーバーが停止しているといったエラーメッセージが出た場合には、`-b/--bed`オプションの使用を検討してください。  
BEDファイルオプションを使用すると、外部サーバーへのアクセスなしにゲノム座標を直接指定でき、オフラインでの動作が可能になります。  

BEDファイルの作成と使用方法の詳細については、[README_JP.md](https://github.com/akikuno/DAJIN2/blob/main/docs/README_JP.md#bed%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E7%94%A8%E3%81%84%E3%81%9F%E3%82%B2%E3%83%8E%E3%83%A0%E5%BA%A7%E6%A8%99%E3%81%AE%E6%8C%87%E5%AE%9A)をご覧ください。  

## UCSC以外の参照ゲノムを用いたい場合にはどうしたら良いでしょうか

`-b/--bed`オプションにて、任意の参照ゲノムを指定することができますので、こちらをご利用ください。

BEDファイルの作成と使用方法の詳細については、[README_JP.md](https://github.com/akikuno/DAJIN2/blob/main/docs/README_JP.md#bed%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E7%94%A8%E3%81%84%E3%81%9F%E3%82%B2%E3%83%8E%E3%83%A0%E5%BA%A7%E6%A8%99%E3%81%AE%E6%8C%87%E5%AE%9A)をご覧ください。  

